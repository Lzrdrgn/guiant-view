var GuiantView=function(a){var b=a.document,c="data-",d=c+"el",e=c+"container",f=c+"placeholder",g=c+"on",h="capture",i="-"+h,j=[],k=1,l=2,m=4,n=function(a,b,c,d){return a&b?c.getAttribute(d):null},o=function(a){this.el=a};o.prototype.update=function(a){var e,f,b=this.el,c=a.length,d=b.childNodes;for(e=0;c>e;e++)f=a[e].el,curEl=d[e],f!==curEl&&(curEl?b.insertBefore(f,curEl):b.appendChild(f));for(e=d.length-1;e>=c;e--)b.removeChild(d[e])};var p=function(a){this.el=a,this._view={el:a},this._nullEl=null};p.prototype.update=function(a){if(a!==this._view){var c=a?a.el:this._nullEl||(this._nullEl=b.createComment("@"));this.el.parentNode.replaceChild(c,this.el),this.el=c,this._view=a}};var q=function(){};return q.parse=function(a){var c=b.createElement("div");c.innerHTML=a;for(var n,o,p,r,w,x,y,i=c.firstElementChild,j=[].concat.apply([i],i.querySelectorAll("*")),q=0,s={},t=[],u=0,v=0;n=j[q++];)for(r=0;o=n.attributes[r++];)p=o.name,p===f?v|=m:p===e?v|=l:p===d&&(v|=k),p.indexOf(g)||s[p]||(y=p.substr(7).split("-"),t[u++]=s[p]=[y[0],y[1]===h]);return i.dataset.view=!0,r=0,x=[],v&m&&(x[r++]=f),v&l&&(x[r++]=e),v&k&&(x[r++]=d),w=String(x.map(function(a){return"["+a+"]"})),{el:i,events:t,flags:v,selector:w}},q.prototype._template=q.parse("<div></div>"),q.prototype._init=function(){var q,r,s,a=this._template,b=this.el=a.el.cloneNode(!0),c=a.flags,g=c?b.querySelectorAll(a.selector):j,h=a.events,i=this._handleEvent.bind(this);for(q=0;q<g.length;q++)r=g[q],(s=n(c,m,r,f))?this[s]=new p(r):(s=n(c,l,r,e))?this[s]=new o(r):(s=n(c,k,r,d))&&(this[s]=r);for(q=0;q<h.length;q++)b.addEventListener(h[q][0],i,h[q][1])},q.prototype._handleEvent=function(a){for(var k,b=0,c=0,d=[],e=[],f=a.target,h=this.el,j=g+a.type+(1===a.eventPhase?i:"");null!==f&&f!==h;f=f.parentNode)d[b++]=f;if(f===h){for(d[b++]=h;b--&&(f=d[b],f===h||!f.dataset||!f.dataset.view);)k=f.getAttribute(j),k&&(e[c++]=[k,f]);for(;c--;)if(k=e[c][0],f=e[c][1],this[k](a,f)===!1)return}},q}(this);